<!--
View login
@Author Josselin CHEVALAY <josselin54.chevalay@gmail.com
@package js/Podcastor/Views/
-->
<link rel="import" href="../../../libs/polymer/polymer.html">

<link rel="import" href="../../../libs/paper-elements/paper-elements.html" />
<link rel="import" href="../../../libs/core-elements/core-elements.html" />

<link rel="import" href="../Service/Fm.html"/>
<link rel="import" href="../Components/Fm.html"/>

<polymer-element name="view-fm" attribute="">
  <template>
    <style>
    :host {
      display: block;
      position: relative;
      background-color: white;
      padding: 20px;
      width: 85%;
      font-size: 1.2rem;
      font-weight: 300;
    }
    .table{
      border:2px;
    }
    .table.row{
      background:white;
    }
    .table.row:nth-child(2n+2){
      background: #f5f5f5;
    }
    </style>
    <div>
      <h1> FM </h1>
    <div>
    <div class="table">
      <template repeat="{{fm in fms}}">
          <div class="table row">
              <components-fm object='{{fm}}' visualisation='mini'></components-fm>
          </div>
      </template>
    </div>
  </template>
  <script>
    Polymer("view-fm", {
      ready: function() {
        var self = this;
        var service = document.createElement('service-fm');
        this.app = document.getElementById('app');
        service.addEventListener('service-fm-get', function(event){
          self.fms = service.fm;
        });
      }
    });
  </script>
</polymer-element>
